@model Domain.Concrete.SanPham
@{
    /**/

    ViewBag.Title = "EditProduct";
    Layout = "~/Areas/Admin/Views/Shared/_NewLayout.cshtml";
}

<h2>Chỉnh Sửa Sản Phẩm</h2>
@using (Html.BeginForm("EditProduct", "ManageProduct", FormMethod.Post, new { @class = "form-horizontal", enctype = "multipart/form-data" }))
{
    @Html.ValidationSummary()
    @Html.HiddenFor(x => x.ProductID)
    @Html.HiddenFor(x => x.HinhAnh)
    @Html.HiddenFor(x => x.NgayTao)
    <div class="form-group">
        @Html.LabelFor(x => x.MaSP, new { @class = "control-label col-sm-2" })
        <div class="col-sm-9">
            @Html.TextBoxFor(x => x.MaSP, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.Ten, new { @class = "control-label col-sm-2" })
        <div class="col-sm-9">
            @Html.TextBoxFor(x => x.Ten, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.SoLuong, new { @class = "control-label col-sm-2" })
        <div class="col-sm-9">
            @Html.TextBoxFor(x => x.SoLuong, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.Gia, new { @class = "control-label col-sm-2" })
        <div class="col-sm-9">
            @Html.TextBoxFor(x => x.Gia, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.GiaKhuyenMai, new { @class = "control-label col-sm-2" })
        <div class="col-sm-9">
            @Html.TextBoxFor(x => x.GiaKhuyenMai, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(model => model.HinhAnh, htmlAttributes: new { @class = "control-label col-sm-2" })
        <div class="col-sm-9">
            @Html.EditorFor(model => model.HinhAnh)
            <input type="button" value="Chọn Ảnh ..." onclick="BrowseServer();" />
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.CategoryProductID, new { @class = "control-label col-sm-2" })
        <div class="col-sm-9">
            @Html.DropDownListFor(x => x.CategoryProductID,
        new SelectList(ViewBag.DanhMuc, "CategoryProductID", "Ten"),
         new { @class = "form-control" })
        </div>
    </div>

    if (Model.SPHot == true)
    {<div class="form-group">
            @Html.LabelFor(x => x.SPHot, new { @class = "control-label col-sm-2" })
            <div class="col-sm-9">
                <input type="checkbox"
                       name="SPHot"
                       value="true"
                       checked /> HangHot
            </div>
        </div>
    }
    else
    {
        <div class="form-group">
            @Html.LabelFor(x => x.SPHot, new { @class = "control-label col-sm-2" })

            <div class="col-sm-9">
                <input type="checkbox"
                       name="SPHot"
                       value="true" /> Sản Phẩm Hot
            </div>
        </div>

    }
    <div class="form-group">
        @Html.LabelFor(x => x.Mota, new { @class = "control-label col-sm-2" })

        <div class="col-sm-9">
            @Html.TextAreaFor(x => x.Mota, new { @class = "control-label col-sm-12" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(model => model.NoiDungSanPham, htmlAttributes: new { @class = "control-label col-sm-2" })
        <div class="col-sm-9">
            @Html.TextAreaFor(model => model.NoiDungSanPham, new { @id = "ckeContent" })
            <script>
                CKEDITOR.replace('ckeContent');
                CKFinder.setupCKEditor(null, '/ckfinder');
            </script>
        </div>
    </div>
    <script type="text/javascript">
        function BrowseServer() {
            var finder = new CKFinder();
            //finder.basePath = '../';
            finder.selectActionFunction = SetFileField;
            finder.popup();
        }
        function SetFileField(fileUrl) {
            document.getElementById('HinhAnh').value = fileUrl;
        }
    </script>

    <div class="form-group">
        <div class="col-sm-offset-2">
            <button type="submit">
                Chỉnh Sửa
            </button>
        </div>
    </div>

}

